<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ÿ£ÿ±ÿ¥ŸäŸÅ ÿßŸÑÿ™ÿØŸàŸäŸÜÿßÿ™ | Compact Night Mode</title>
    
    <!-- React & ReactDOM -->
    <script crossorigin src="https://cdnjs.cloudflare.com/ajax/libs/react/18.2.0/umd/react.production.min.js"></script>
    <script crossorigin src="https://cdnjs.cloudflare.com/ajax/libs/react-dom/18.2.0/umd/react-dom.production.min.js"></script>
    
    <!-- Babel -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/babel-standalone/7.23.5/babel.min.js"></script>
    
    <!-- Tailwind CSS -->
    <script src="https://cdn.tailwindcss.com"></script>
    
    <!-- PapaParse -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/PapaParse/5.4.1/papaparse.min.js"></script>
    
    <!-- Google Fonts -->
    <link href="https://fonts.googleapis.com/css2?family=Cairo:wght@300;400;600;700&display=swap" rel="stylesheet">

    <style>
        body { font-family: 'Cairo', sans-serif; background-color: #020617; color: #e2e8f0; }
        
        /* Compact Glass Panel */
        .glass-panel {
            background: rgba(15, 23, 42, 0.7);
            backdrop-filter: blur(8px);
            border: 1px solid rgba(51, 65, 85, 0.5);
            box-shadow: 0 2px 4px rgba(0,0,0,0.3);
        }
        
        .timeline-spine {
            position: absolute;
            top: 0; bottom: 0; right: 50%;
            width: 2px;
            background: #1e293b; /* Slate 800 - subtle line */
            transform: translateX(50%);
            z-index: 0;
        }

        /* Dark Mode Date Inputs */
        input[type="date"] {
            color-scheme: dark;
        }
        
        @media (max-width: 768px) {
            .timeline-spine { right: 16px; transform: none; }
        }

        .fade-in { animation: fadeIn 0.4s ease-out forwards; }
        @keyframes fadeIn { from { opacity: 0; transform: translateY(5px); } to { opacity: 1; transform: translateY(0); } }
    </style>
</head>
<body>
    <div id="root"></div>

    <script type="text/babel">
        const { useState, useEffect, useMemo } = React;

        // --- Optimized SVGs ---
        const Icons = {
            Clock: () => <svg xmlns="http://www.w3.org/2000/svg" width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round"><circle cx="12" cy="12" r="10"/><polyline points="12 6 12 12 16 14"/></svg>,
            ExternalLink: () => <svg xmlns="http://www.w3.org/2000/svg" width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round"><path d="M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6"/><polyline points="15 3 21 3 21 9"/><line x1="10" y1="14" x2="21" y2="3"/></svg>,
            UploadCloud: () => <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round"><path d="M4 14.899A7 7 0 1 1 15.71 8h1.79a4.5 4.5 0 0 1 2.5 8.242"/><path d="M12 12v9"/><path d="m16 16-4-4-4 4"/></svg>,
            Check: () => <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round"><polyline points="20 6 9 17 4 12"/></svg>,
            Search: () => <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round"><circle cx="11" cy="11" r="8"/><line x1="21" y1="21" x2="16.65" y2="16.65"/></svg>,
            Post: () => <svg xmlns="http://www.w3.org/2000/svg" width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round"><path d="M12 19l7-7 3 3-7 7-3-3z"/><path d="M18 13l-1.5-7.5L2 2l3.5 14.5L13 18l5-5z"/><path d="M2 2l7.586 7.586"/><circle cx="11" cy="11" r="2"/></svg>,
            Reply: () => <svg xmlns="http://www.w3.org/2000/svg" width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round"><path d="M21 11.5a8.38 8.38 0 0 1-.9 3.8 8.5 8.5 0 0 1-7.6 4.7 8.38 8.38 0 0 1-3.8-.9L3 21l1.9-5.7a8.38 8.38 0 0 1-.9-3.8 8.5 8.5 0 0 1 4.7-7.6 8.38 8.38 0 0 1 3.8-.9h.5a8.48 8.48 0 0 1 8 8v.5z"/></svg>,
            Media: () => <svg xmlns="http://www.w3.org/2000/svg" width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round"><rect x="3" y="3" width="18" height="18" rx="2" ry="2"/><circle cx="8.5" cy="8.5" r="1.5"/><polyline points="21 15 16 10 5 21"/></svg>,
            Tag: () => <svg xmlns="http://www.w3.org/2000/svg" width="12" height="12" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round"><path d="M12 2H2v10l9.29 9.29c.94.94 2.48.94 3.42 0l6.58-6.58c.94-.94.94-2.48 0-3.42L12 2Z"/><path d="M7 7h.01"/></svg>,
            Calendar: () => <svg xmlns="http://www.w3.org/2000/svg" width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round"><rect x="3" y="4" width="18" height="18" rx="2" ry="2"/><line x1="16" y1="2" x2="16" y2="6"/><line x1="8" y1="2" x2="8" y2="6"/><line x1="3" y1="10" x2="21" y2="10"/></svg>,
            ChevronDown: () => <svg xmlns="http://www.w3.org/2000/svg" width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round"><path d="m6 9 6 6 6-6"/></svg>
        };

        const IconWrapper = ({ component: Component, className }) => (
            <span className={`flex items-center justify-center ${className}`}><Component /></span>
        );

        const INITIAL_DATA = [
            { date: "2024-11-27 17:24:21", link: "https://x.com/moazAlsabouh/status/1861823386789335392", text: "ÿßŸÑÿ∑Ÿäÿ±ÿßŸÜ ÿßŸÑÿ±Ÿàÿ≥Ÿä ŸÖŸÜ ÿßŸÑÿµÿ®ÿ≠ ÿπŸÖ ŸäŸÇÿµŸÅ Ÿäÿß ÿßÿ®ŸÜ ÿßŸÑÿ≠ŸÑÿßŸÑ", note: "ÿ±ÿØ" },
            { date: "2024-11-27 17:26:07", link: "https://x.com/moazAlsabouh/status/1861823833407119523", text: "ÿßŸÑŸÖŸÇÿ∑ÿπ ŸÇÿØŸäŸÖ ÿ®ÿ∏ŸÜ", note: "ÿ±ÿØ ÿπŸÑŸâ ŸÅŸäÿØŸäŸà ÿ•ÿ≥ŸÇÿßÿ∑ ÿ∑ÿßÿ¶ÿ±ÿ©" },
            { date: "2024-11-27 20:11:19", link: "https://x.com/moazAlsabouh/status/1861865405549072800", text: "ÿßŸÑÿ∫ŸÑÿßŸÅ ŸÖÿ™ÿπŸàÿ® ÿπŸÑŸäŸá", note: "ÿµŸàÿ±ÿ© ÿ∫ŸÑÿßŸÅ ÿßŸÑÿπÿ±ÿ®Ÿäÿ©" },
            { date: "2024-11-28 09:13:01", link: "https://x.com/moazAlsabouh/status/1862062130280751512", text: "ÿ≠ÿ≥Ÿà ÿ≠ÿßŸÑŸáŸÜ ŸÖÿ≠Ÿàÿ± ÿßŸÑŸÉŸàŸÜ ŸàŸáŸäŸÉ", note: "" },
            { date: "2024-11-28 09:15:08", link: "https://x.com/moazAlsabouh/status/1862062662911217705", text: "ÿ∂ÿ≠ŸÉÿ™ŸÜŸäüòÇ", note: "ÿ±ÿØ ÿπŸÑŸâ parody ÿ®ÿ¥ÿßÿ±" },
            { date: "2024-12-09 16:55:12", link: "https://x.com/moazAlsabouh/status/1866701234567890123", text: "ÿßŸÑŸÖÿπÿ±ÿ© ÿßŸÑŸäŸàŸÖ ÿ£ÿ≠ŸÑŸâ ŸÖŸÜ ÿ£Ÿä ŸàŸÇÿ™ ŸÖÿ∂Ÿâ üíö", note: "ÿµŸàÿ± ŸÖŸÜ ÿßŸÑŸÖÿØŸäŸÜÿ©" },
            { date: "2024-12-09 18:20:33", link: "https://x.com/moazAlsabouh/status/1866734567890123456", text: "ŸÉŸÅŸâ ÿ∑ÿßÿ¶ŸÅŸäÿ© ŸàŸÉŸÅŸâ ÿ≠ŸÇÿØ... ÿ≥Ÿàÿ±Ÿäÿß ŸÑŸÉŸÑ ÿßŸÑÿ≥Ÿàÿ±ŸäŸäŸÜ", note: "" },
            { date: "2024-12-09 19:45:56", link: "https://x.com/moazAlsabouh/status/1866767890123456789", text: "ÿπÿßÿ¥ÿ™ ÿ≥Ÿàÿ±Ÿäÿß ÿ≠ÿ±ÿ© ÿ£ÿ®Ÿäÿ© ‚úåüèºüá∏üáæ", note: "" },
            { date: "2024-12-09 20:30:21", link: "https://x.com/moazAlsabouh/status/1866789012345678901", text: "ŸÖŸÜ ÿ®Ÿäÿ™ŸÜÿß ŸÅŸä ÿßŸÑŸÖÿπÿ±ÿ©... ÿ±ÿ¨ÿπŸÜÿß Ÿäÿß ÿ£ŸáŸÑŸä üò≠üíö", note: "ÿµŸàÿ±ÿ© ÿ•ÿ∂ÿßŸÅŸäÿ©" },
            { date: "2024-12-09 21:15:44", link: "https://x.com/moazAlsabouh/status/1866805678901234567", text: "ÿßŸÑÿ≠ŸÖÿØ ŸÑŸÑŸá ÿπŸÑŸâ ŸÉŸÑ ÿ¥Ÿäÿ°... ŸÖŸÜ 2011 ŸÑŸÑŸäŸàŸÖ", note: "" }
        ];

        const classifyPost = (post) => {
            const note = (post.note || "").toLowerCase();
            const text = (post.text || "").toLowerCase();
            
            if (note.includes("ÿµŸàÿ±ÿ©") || note.includes("ŸÅŸäÿØŸäŸà") || text.includes("pic.twitter")) 
                return { type: 'Media', label: 'Ÿàÿ≥ÿßÿ¶ÿ∑', color: 'purple', Icon: Icons.Media, bg: 'bg-purple-900/30', textCol: 'text-purple-300', border: 'border-l-purple-500' };
            
            if (note.includes("ÿ±ÿØ") || text.startsWith("@")) 
                return { type: 'Reply', label: 'ÿ±ÿØ', color: 'blue', Icon: Icons.Reply, bg: 'bg-blue-900/30', textCol: 'text-blue-300', border: 'border-l-blue-500' };
            
            return { type: 'Post', label: 'ŸÖŸÜÿ¥Ÿàÿ±', color: 'emerald', Icon: Icons.Post, bg: 'bg-emerald-900/30', textCol: 'text-emerald-300', border: 'border-l-emerald-500' };
        };

        const App = () => {
            const [posts, setPosts] = useState(INITIAL_DATA);
            const [filteredPosts, setFilteredPosts] = useState([]);
            const [filterType, setFilterType] = useState('All');
            const [searchTerm, setSearchTerm] = useState('');
            const [visibleCount, setVisibleCount] = useState(20);
            const [isFileUploaded, setIsFileUploaded] = useState(false);
            
            const [dateRange, setDateRange] = useState({ start: '', end: '' });
            const [dataBounds, setDataBounds] = useState({ min: '', max: '' });

            useEffect(() => {
                if(posts.length > 0) {
                    const dates = posts.map(p => new Date(p.date).getTime());
                    const minDate = new Date(Math.min(...dates)).toISOString().split('T')[0];
                    const maxDate = new Date(Math.max(...dates)).toISOString().split('T')[0];
                    
                    setDataBounds({ min: minDate, max: maxDate });
                    setDateRange({ start: minDate, end: maxDate });
                }
            }, [posts]);

            const handleFileUpload = (e) => {
                const file = e.target.files[0];
                if (!file) return;

                if (window.Papa) {
                    Papa.parse(file, {
                        header: false,
                        skipEmptyLines: true,
                        complete: (results) => {
                            const parsedData = results.data.slice(1).map(row => ({
                                date: row[0],
                                link: row[1],
                                text: row[2],
                                note: row[3] || ""
                            })).filter(item => item.date && item.text);

                            parsedData.sort((a, b) => new Date(a.date) - new Date(b.date));
                            
                            setPosts(parsedData);
                            setIsFileUploaded(true);
                            setVisibleCount(30);
                        }
                    });
                }
            };

            useEffect(() => {
                let result = posts;

                if (filterType !== 'All') {
                    result = result.filter(post => classifyPost(post).type === filterType);
                }

                if (searchTerm) {
                    const term = searchTerm.toLowerCase();
                    result = result.filter(post => 
                        (post.text || "").toLowerCase().includes(term) ||
                        (post.note || "").toLowerCase().includes(term)
                    );
                }

                if (dateRange.start && dateRange.end) {
                    const start = new Date(dateRange.start);
                    start.setHours(0,0,0,0);
                    const end = new Date(dateRange.end);
                    end.setHours(23,59,59,999);

                    result = result.filter(post => {
                        const pDate = new Date(post.date);
                        return pDate >= start && pDate <= end;
                    });
                }

                setFilteredPosts(result);
            }, [posts, filterType, searchTerm, dateRange]);

            const formatDate = (dateStr) => {
                try {
                    return new Date(dateStr).toLocaleDateString('ar-SY', {
                        year: 'numeric', month: 'short', day: 'numeric', hour: '2-digit', minute:'2-digit'
                    });
                } catch(e) { return dateStr; }
            };

            const stats = useMemo(() => ({
                All: posts.length,
                Post: posts.filter(p => classifyPost(p).type === 'Post').length,
                Reply: posts.filter(p => classifyPost(p).type === 'Reply').length,
                Media: posts.filter(p => classifyPost(p).type === 'Media').length,
            }), [posts]);

            return (
                <div className="min-h-screen pb-16 selection:bg-emerald-500/30 overflow-x-hidden">
                    
                    {/* Compact Header */}
                    <div className="bg-slate-950 text-white pb-24 pt-8 rounded-b-[2rem] shadow-xl relative overflow-hidden mb-8 border-b border-slate-900">
                        <div className="absolute top-0 left-0 w-full h-full opacity-10 bg-[radial-gradient(circle_at_top,_var(--tw-gradient-stops))] from-indigo-900 via-slate-950 to-slate-950"></div>
                        
                        <div className="container mx-auto px-4 relative z-10 flex flex-col md:flex-row items-center justify-between gap-6">
                            <div className="text-right md:w-1/2">
                                <h1 className="text-2xl md:text-4xl font-black mb-2 tracking-tight flex items-center gap-2">
                                    <span className="w-2 h-8 bg-emerald-500 rounded-full inline-block"></span>
                                    <span>ÿßŸÑÿ£ÿ±ÿ¥ŸäŸÅ <span className="text-emerald-500 font-light">ÿßŸÑÿ≤ŸÖŸÜŸä</span></span>
                                </h1>
                                <p className="text-slate-400 text-sm font-light leading-relaxed">
                                    ÿ≥ÿ¨ŸÑ ŸÖÿ±ÿ™ÿ® ÿ≤ŸÖŸÜŸäÿßŸã ŸÑŸÑÿ£ÿ≠ÿØÿßÿ´ ŸàÿßŸÑÿ™ÿØŸàŸäŸÜÿßÿ™.
                                </p>
                            </div>

                            {/* Upload Button - Compact */}
                            <div className="md:w-auto w-full">
                                <label className="flex items-center gap-3 bg-slate-900/80 border border-slate-700 rounded-xl px-4 py-3 cursor-pointer hover:border-emerald-500/50 hover:bg-slate-800 transition-all group w-full md:w-auto justify-center">
                                    <input type="file" accept=".csv" onChange={handleFileUpload} className="hidden" />
                                    <div className={`p-2 rounded-full ${isFileUploaded ? 'bg-emerald-600' : 'bg-slate-800 text-emerald-400 group-hover:text-emerald-300'}`}>
                                        <IconWrapper component={isFileUploaded ? Icons.Check : Icons.UploadCloud} className="w-5 h-5" />
                                    </div>
                                    <div className="text-right">
                                        <div className="font-bold text-slate-200 text-sm">{isFileUploaded ? "ÿ™ŸÖ ÿßŸÑÿ™ÿ≠ŸÖŸäŸÑ" : "ÿ±ŸÅÿπ CSV"}</div>
                                        <div className="text-[10px] text-slate-500">{isFileUploaded ? `${posts.length} ÿπŸÜÿµÿ±` : "ÿßÿ∂ÿ∫ÿ∑ ŸÑŸÑÿßÿ≥ÿ™Ÿäÿ±ÿßÿØ"}</div>
                                    </div>
                                </label>
                            </div>
                        </div>
                    </div>

                    {/* Controls Bar - Compact */}
                    <div className="container mx-auto px-4 -mt-20 relative z-20 mb-8">
                        <div className="glass-panel rounded-xl p-4 flex flex-col gap-4">
                            
                            {/* Search & Tabs */}
                            <div className="flex flex-col lg:flex-row gap-3 justify-between items-center">
                                <div className="relative w-full lg:w-1/3">
                                    <input 
                                        type="text" 
                                        placeholder="ÿ®ÿ≠ÿ´..." 
                                        className="w-full pl-8 pr-3 py-2 rounded-lg border border-slate-700 bg-slate-900/60 text-slate-200 text-sm focus:border-emerald-500 focus:ring-1 focus:ring-emerald-500 outline-none placeholder-slate-600"
                                        value={searchTerm}
                                        onChange={(e) => setSearchTerm(e.target.value)}
                                    />
                                    <div className="absolute left-2.5 top-2.5 text-slate-600">
                                        <IconWrapper component={Icons.Search} className="w-4 h-4" />
                                    </div>
                                </div>

                                <div className="flex flex-wrap justify-center gap-1.5 w-full lg:w-auto">
                                    {[
                                        { id: 'All', label: 'ÿßŸÑŸÉŸÑ' },
                                        { id: 'Post', label: 'ŸÖŸÜÿ¥Ÿàÿ±ÿßÿ™' },
                                        { id: 'Reply', label: 'ÿ±ÿØŸàÿØ' },
                                        { id: 'Media', label: 'Ÿàÿ≥ÿßÿ¶ÿ∑' }
                                    ].map(btn => (
                                        <button 
                                            key={btn.id}
                                            onClick={() => setFilterType(btn.id)}
                                            className={`px-3 py-1.5 rounded-lg text-xs font-bold transition-all flex items-center gap-1.5 border
                                                ${filterType === btn.id 
                                                    ? `bg-emerald-600 border-emerald-500 text-white` 
                                                    : `bg-slate-800 border-slate-700 text-slate-400 hover:bg-slate-700`
                                                }`}
                                        >
                                            <span>{btn.label}</span>
                                            <span className={`text-[9px] px-1 py-0.5 rounded-sm ${filterType === btn.id ? 'bg-black/20 text-white' : 'bg-slate-900 text-slate-500'}`}>
                                                {stats[btn.id]}
                                            </span>
                                        </button>
                                    ))}
                                </div>
                            </div>

                            {/* Date Filter - Inline */}
                            <div className="flex flex-wrap items-center justify-center gap-2 border-t border-slate-700/50 pt-2 text-xs">
                                <span className="text-slate-500 font-bold flex items-center gap-1">
                                    <IconWrapper component={Icons.Calendar} className="w-3 h-3 text-emerald-500" />
                                    ÿßŸÑÿ™ÿßÿ±ŸäÿÆ:
                                </span>
                                <div className="flex items-center gap-1 bg-slate-900/60 px-2 py-1 rounded border border-slate-700">
                                    <input 
                                        type="date" 
                                        className="bg-transparent text-slate-300 outline-none font-mono w-24 p-0 text-center"
                                        value={dateRange.start}
                                        min={dataBounds.min}
                                        max={dataBounds.max}
                                        onChange={(e) => setDateRange({...dateRange, start: e.target.value})}
                                    />
                                </div>
                                <span className="text-slate-600">-</span>
                                <div className="flex items-center gap-1 bg-slate-900/60 px-2 py-1 rounded border border-slate-700">
                                    <input 
                                        type="date" 
                                        className="bg-transparent text-slate-300 outline-none font-mono w-24 p-0 text-center"
                                        value={dateRange.end}
                                        min={dataBounds.min}
                                        max={dataBounds.max}
                                        onChange={(e) => setDateRange({...dateRange, end: e.target.value})}
                                    />
                                </div>
                                <button onClick={() => setDateRange({start: dataBounds.min, end: dataBounds.max})} className="text-emerald-500 hover:text-emerald-400 underline decoration-dotted ml-1">
                                    reset
                                </button>
                            </div>
                        </div>
                    </div>

                    {/* Timeline Content - Reduced Spacing */}
                    <div className="container mx-auto px-4 max-w-4xl relative min-h-[300px]">
                        {filteredPosts.length === 0 ? (
                            <div className="text-center py-12 text-slate-500 border border-dashed border-slate-800 rounded-lg">
                                <p className="text-sm">ŸÑÿß ÿ™Ÿàÿ¨ÿØ ŸÜÿ™ÿßÿ¶ÿ¨</p>
                            </div>
                        ) : (
                            <>
                                <div className="timeline-spine hidden md:block"></div>
                                {/* Reduced spacing here from space-y-8 to space-y-4 */}
                                <div className="space-y-4">
                                    {filteredPosts.slice(0, visibleCount).map((post, idx) => {
                                        const typeInfo = classifyPost(post);
                                        const isLeft = idx % 2 === 0;
                                        const TypeIcon = typeInfo.Icon;

                                        return (
                                            <div key={idx} className="relative flex flex-col md:flex-row items-center md:items-start group fade-in" style={{animationDelay: `${Math.min(idx * 0.05, 0.5)}s`}}>
                                                
                                                {/* Center Dot - Simplified */}
                                                <div className="hidden md:flex absolute left-1/2 -translate-x-1/2 mt-4 w-3 h-3 bg-slate-800 border-2 border-slate-600 rounded-full z-10 group-hover:bg-emerald-500 group-hover:border-emerald-400 transition-colors"></div>

                                                {/* Mobile Number - Very compact */}
                                                <div className="md:hidden self-start mb-1 bg-slate-800 text-slate-500 text-[9px] px-1.5 rounded border border-slate-700">
                                                    #{idx + 1}
                                                </div>

                                                {/* Card Container */}
                                                <div className={`w-full md:w-[48%] ${isLeft ? 'md:mr-auto' : 'md:ml-auto md:order-last'} relative`}>
                                                    
                                                    {/* Card Body - Compact Padding */}
                                                    <div className={`glass-panel p-4 rounded-lg hover:border-slate-500 border-l-2 bg-slate-900/40 transition-all ${typeInfo.border}`}>
                                                        
                                                        {/* Header: Date & Type - Flexbox to prevent overlap */}
                                                        <div className="flex items-center justify-between mb-2 border-b border-slate-800/50 pb-2">
                                                            <div className="flex items-center text-slate-500 text-[10px] md:text-xs font-mono">
                                                                <IconWrapper component={Icons.Clock} className="w-3 h-3 ml-1 opacity-70" />
                                                                <span dir="ltr">{formatDate(post.date)}</span>
                                                            </div>
                                                            <div className={`px-1.5 py-0.5 rounded text-[10px] font-bold flex items-center gap-1 ${typeInfo.bg} ${typeInfo.textCol}`}>
                                                                <IconWrapper component={TypeIcon} className="w-3 h-3" />
                                                                {typeInfo.label}
                                                            </div>
                                                        </div>

                                                        {/* Text Body - Distinct block */}
                                                        <div className="text-right mb-2" dir="rtl">
                                                            <p className="text-slate-200 text-sm md:text-base leading-7 font-normal whitespace-pre-wrap break-words">
                                                                {post.text.replace(/"/g, '')}
                                                            </p>
                                                        </div>

                                                        {/* Footer: Notes & Link */}
                                                        <div className="flex items-end justify-between mt-2 pt-2 border-t border-slate-800/30">
                                                            {/* Note Container - Flex to prevent icon overlap */}
                                                            <div className="flex-1 pl-2">
                                                                {post.note && (
                                                                    <div className="flex items-start gap-1.5 text-[10px] text-slate-400 bg-slate-950/30 px-2 py-1 rounded max-w-fit">
                                                                        <IconWrapper component={Icons.Tag} className="w-3 h-3 mt-0.5 flex-shrink-0 text-slate-500" />
                                                                        <span className="leading-tight">{post.note}</span>
                                                                    </div>
                                                                )}
                                                            </div>

                                                            <a 
                                                                href={post.link} 
                                                                target="_blank" 
                                                                className="flex-shrink-0 flex items-center gap-1 text-[10px] font-bold text-slate-500 hover:text-emerald-400 transition-colors bg-slate-800/50 px-2 py-1 rounded hover:bg-slate-800"
                                                            >
                                                                <span>ŸÅÿ™ÿ≠</span>
                                                                <IconWrapper component={Icons.ExternalLink} className="w-3 h-3" />
                                                            </a>
                                                        </div>

                                                    </div>
                                                </div>
                                            </div>
                                        );
                                    })}
                                </div>

                                {visibleCount < filteredPosts.length && (
                                    <div className="text-center mt-8 mb-8">
                                        <button 
                                            onClick={() => setVisibleCount(prev => prev + 20)}
                                            className="px-6 py-2 bg-slate-800 border border-slate-700 text-slate-400 rounded-full hover:bg-slate-700 hover:text-emerald-400 text-xs font-bold transition-all flex items-center mx-auto gap-2"
                                        >
                                            <span>ÿπÿ±ÿ∂ ÿßŸÑŸÖÿ≤ŸäÿØ</span>
                                            <IconWrapper component={Icons.ChevronDown} className="w-3 h-3" />
                                        </button>
                                    </div>
                                )}
                            </>
                        )}
                    </div>

                    <footer className="text-center mt-8 pb-4 text-slate-700 text-[10px]">
                        <p>¬© 2025 Moaz Archive</p>
                    </footer>
                </div>
            );
        };

        const root = ReactDOM.createRoot(document.getElementById('root'));
        root.render(<App />);
    </script>
</body>
  </html>
